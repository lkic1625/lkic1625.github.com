<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.3 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>PUT VS POST  |  untitled</title>
<meta name="description" content="">


  <meta name="author" content="조원빈">


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="untitled">
<meta property="og:title" content="PUT VS POST">
<meta property="og:url" content="http://localhost:4000/backend/put_post/">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2020-09-10T00:00:00+09:00">



  <meta property="article:modified_time" content="2020-09-11T04:00:00+09:00">



  

  


<link rel="canonical" href="http://localhost:4000/backend/put_post/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "조원빈",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="untitled Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          untitled
          <span class="site-subtitle">기록용 블로그입니다.</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/posts/">연도별 포스트</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/avatar_logo.jpg" alt="조원빈" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">조원빈</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Was mich nicht umbringt, macht mich stärker.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">South Korea</span>
        </li>
      

      
        
          
            <li><a href="mailto:lkic1625@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
        
          
        
          
            <li><a href="https://github.com/lkic1625" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/__b1n__/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="PUT VS POST">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2020-09-10T00:00:00+09:00">
    <meta itemprop="dateModified" content="2020-09-11T04:00:00+09:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">PUT VS POST
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 분 소요

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On This Page</h4></header>
              <ul class="toc__menu">
  <li><a href="#common-method-properties">Common Method Properties</a>
    <ul>
      <li><a href="#safe-methods">Safe Methods</a></li>
      <li><a href="#idempotent-methods">Idempotent Methods</a></li>
      <li><a href="#cacheable-methods">Cacheable Methods</a></li>
    </ul>
  </li>
  <li><a href="#method-definitions">Method Definitions</a>
    <ul>
      <li><a href="#post">POST</a></li>
      <li><a href="#put">PUT</a></li>
    </ul>
  </li>
  <li><a href="#put-or-post">PUT or POST?</a></li>
</ul>

            </nav>
          </aside>
        
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>

<p>서비스 개발 도중 문득 <code class="language-plaintext highlighter-rouge">put</code> 과 <code class="language-plaintext highlighter-rouge">post</code>의 차이가 분명하지 않아 직접 찾아본 자료들을 정리해둔 글이다.</p>

<p><code class="language-plaintext highlighter-rouge">HTTP API</code> 개발 단계에서 서버 자원을 수정, 추가, 배포하기 위해서는 어떤 메서드를 사용해야 하나? 네트워크 지식이 매우 미흡한 작성자에게는 상당히
어려운 부분이다. 간단한게 말해서 하나도 모른다.</p>

<p>그렇다고 <code class="language-plaintext highlighter-rouge">HTTP</code>의 정의부터 전부 쓰기도 그러니 <a href="https://tools.ietf.org/html/rfc7231#section-4.1">공식 문서(rfc7231)</a>를 참고하여 중요한 토픽 위주로 먼저 정리하려 한다.</p>

<h1 id="common-method-properties">Common Method Properties</h1>
<h2 id="safe-methods">Safe Methods</h2>
<ul>
  <li>사용자의 <code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">HEAD</code>, <code class="language-plaintext highlighter-rouge">OPTIONS</code> 같은 요청으로 인한 side-effects는 사용자에게 책임을 물을 수 없다.</li>
  <li>이를 통해 다른 메서드의 경우에 위험 가능성을 명시한다.</li>
  <li>읽기 전용인 경우 안전한 메서드로 간주한다.</li>
</ul>

<h2 id="idempotent-methods">Idempotent Methods</h2>
<p>우리말로는 멱등성(?)이라는 단어를 사용하던데 상당히 생소하다.</p>

<ul>
  <li>서버 통신 장애로 인해 요청이 반복될 수 있어 <code class="language-plaintext highlighter-rouge">Idempotent Methods</code>는 구분된다,</li>
  <li>여러 번의 요청과 한 번의 요청의 결과가 동일하다면 <code class="language-plaintext highlighter-rouge">Idempotent</code> 하다.</li>
  <li><code class="language-plaintext highlighter-rouge">PUT</code>, <code class="language-plaintext highlighter-rouge">DELETE</code>와 <code class="language-plaintext highlighter-rouge">Safe Method</code>가 여기에 속한다.</li>
</ul>

<h2 id="cacheable-methods">Cacheable Methods</h2>

<p>요청 메서드는 이후 재사용 가능성에 의해 <code class="language-plaintext highlighter-rouge">cacheable</code> 할 수 있다.</p>

<ul>
  <li>일반적으로 권한 요청이 없거나, 현재에 의존성이 없는 <code class="language-plaintext highlighter-rouge">safe method</code>는 <code class="language-plaintext highlighter-rouge">cacheable</code>하다</li>
  <li><code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">HEAD</code>, <code class="language-plaintext highlighter-rouge">POST</code>는 <code class="language-plaintext highlighter-rouge">cacheable</code>하다.</li>
</ul>

<h1 id="method-definitions">Method Definitions</h1>
<h2 id="post">POST</h2>
<ul>
  <li>HTML 폼에 입력된 필드를 받아 데이터 핸들링을 할 경우</li>
  <li>게시판, 블로그 등의 포스팅</li>
  <li>서버의 새로운 데이터 쓰기</li>
  <li>데이터 추가</li>
</ul>

<p>POST 요청에 대한 응답 <code class="language-plaintext highlighter-rouge">status code</code>는 대부분  being 206 (Partial Content), 304 (Not Modified), and 416 (Range Not Satisfiable)로 정의된다.
새로운 리소스가 서버에 생성되었다면, 201 (Created)를 생성된 리소스에 대한 설명과 식별자를 함께 보낸다.</p>

<p>POST는 <a href="https://tools.ietf.org/html/rfc7234#section-4.2.1"><code class="language-plaintext highlighter-rouge">freshness</code></a> 정보가 정확히 명시되었을 때 <code class="language-plaintext highlighter-rouge">cacheable</code>하다.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: left"> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">요청에 바디 존재</td>
      <td style="text-align: left">O</td>
    </tr>
    <tr>
      <td style="text-align: left">성공 응답에 바디 존재</td>
      <td style="text-align: left">O</td>
    </tr>
    <tr>
      <td style="text-align: left">안전성</td>
      <td style="text-align: left">X</td>
    </tr>
    <tr>
      <td style="text-align: left">멱등성</td>
      <td style="text-align: left">X</td>
    </tr>
    <tr>
      <td style="text-align: left">캐시 가능</td>
      <td style="text-align: left"> </td>
    </tr>
  </tbody>
</table>

<h2 id="put">PUT</h2>
<ul>
  <li>기존 리소스를 대체하거나 새로 생성하는 요청을 주로한다.</li>
  <li>서버는 변환없는 저장, 새로운 데이터를 반영하지 않을 경우 절대로 <code class="language-plaintext highlighter-rouge">ETag</code>, <code class="language-plaintext highlighter-rouge">Last-Modified</code> 같은 <a href="https://tools.ietf.org/html/rfc7231#section-7.2"><code class="language-plaintext highlighter-rouge">alidator header field</code></a>를 보내선 안된다. 이 요건은 사용자 에이전트가 PUT의 결과로 메모리에 있는 바디가 최신 상태를 유지할 때 알 수 있도록 하므로 서버에서 다시 검색할 필요가 없으며, 응답에서 받은 새로운 <code class="language-plaintext highlighter-rouge">validator</code>에 우발적인 덮어쓰기를 방지하기 위해 미래의 조건부 요청에 사용할 수 있다.</li>
</ul>

<p>타켓 리소스와 다를 경우 PUT 메서드는 요청을 적절한 형태의 에러코드를 발생할 수 있다. 이 때 409 (Conflict), 415 (Unsupported Media Type) 상태코드를 보낸다.
생성할 경우 201 (Created)를, 수정할 경우는 요청이 완료되었다는 의미로 200 (OK)이나 204 (No cotent) 상태 코드를 보낸다.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: left"> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">요청에 바디 존재</td>
      <td style="text-align: left">O</td>
    </tr>
    <tr>
      <td style="text-align: left">성공 응답에 바디 존재</td>
      <td style="text-align: left">X</td>
    </tr>
    <tr>
      <td style="text-align: left">안전성</td>
      <td style="text-align: left">X</td>
    </tr>
    <tr>
      <td style="text-align: left">멱등성</td>
      <td style="text-align: left">O</td>
    </tr>
    <tr>
      <td style="text-align: left">캐시 가능</td>
      <td style="text-align: left">X</td>
    </tr>
  </tbody>
</table>

<h1 id="put-or-post">PUT or POST?</h1>
<p>그렇다면 둘의 차이점은 도대체 무엇일까? 공식문서에서는 아래와 같이 설명하고 있다.</p>

<blockquote>
  <p>The fundamental difference between the POST and PUT methods is highlighted by the different intent for the enclosed representation. The target resource in a POST request is intended to handle the enclosed representation according to the resource’s own semantics, whereas the enclosed representation in a PUT request is defined as replacing the state of the target resource.  Hence, the intent of PUT is idempotent and visible to intermediaries, even though the exact  effect is only known by the origin server.</p>
</blockquote>

<p>간단히 말하자면 <code class="language-plaintext highlighter-rouge">idempotent</code>에서 차이가 있다.</p>

<ul>
  <li>POST 같은 경우 여러번의 요청이 있을 경우, 연속적인 시퀀스라 인지하여 추가적인 영향이 있을 수 있다.</li>
  <li>PUT 같은 경우 리소스를 대체하거나 새로 생성하지만 <code class="language-plaintext highlighter-rouge">idempotent</code>에 의해 요청수에 상관없이 결과는 같다.</li>
</ul>

<blockquote>
  <font size="6">Refernce</font>
  <ul>
    <li>https://tools.ietf.org/html/rfc7231#section-4.1</li>
    <li>https://feel5ny.github.io/2019/08/16/HTTP_003_02/</li>
    <li>https://ko.wikipedia.org/wiki/HTTP</li>
  </ul>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> 태그: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#backend" class="page__taxonomy-item" rel="tag">backend</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#http" class="page__taxonomy-item" rel="tag">HTTP</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#protocol" class="page__taxonomy-item" rel="tag">protocol</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#backend" class="page__taxonomy-item" rel="tag">backend</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time datetime="2020-09-11">September 11, 2020</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=PUT+VS+POST%20http%3A%2F%2Flocalhost%3A4000%2Fbackend%2Fput_post%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fbackend%2Fput_post%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fbackend%2Fput_post%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/nodejs/sns_project/" class="pagination--pager" title="sns 프로젝트 demo
">이전</a>
    
    
      <a href="/database/b_tree_index/" class="pagination--pager" title="B-tree, index(작성중)
">다음</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">참고</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/rails/starting_rails/" rel="permalink">starting rails
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  최대 1 분 소요

</p>
    
    <p class="archive__item-excerpt" itemprop="description">rails
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/nodejs/serverless/" rel="permalink">serverless node
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 분 소요

</p>
    
    <p class="archive__item-excerpt" itemprop="description">serverless
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/database/SQL_QUERY_01/" rel="permalink">SQL QUERY 정리
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 분 소요

</p>
    
    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/nodejs/starting_web_service/" rel="permalink">서비스 배포하기
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 분 소요

</p>
    
    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/lkic1625" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
          <li><a href="https://www.instagram.com/__b1n__/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 조원빈. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
